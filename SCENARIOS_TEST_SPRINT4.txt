===============================================
   SCÃ‰NARIOS DE TEST SPRINT 4 - INTERFACE WEB
===============================================

ğŸ“‹ OBJECTIF : Tester la gestion des ordonnances multiples et des statuts de documents

ğŸš€ PRÃ‰REQUIS :
- Serveur Laravel dÃ©marrÃ© : php artisan serve
- Base de donnÃ©es migrÃ©e
- Au moins un utilisateur client et un administrateur

===============================================
ğŸ“ SCÃ‰NARIO 1 : NOUVELLE ORDONNANCE (PREMIÃˆRE FOIS)
===============================================

ğŸ¯ Objectif : VÃ©rifier qu'une nouvelle ordonnance peut Ãªtre crÃ©Ã©e

ğŸ“ Ã‰tapes :
1. Aller sur : http://127.0.0.1:8000/blood/reservation
2. Se connecter en tant que client
3. Remplir le formulaire :
   - NumÃ©ro d'ordonnance : ORD-TEST-001
   - Groupe sanguin : A+
   - QuantitÃ© : 2 poches
   - TÃ©lÃ©phone : 70123456
   - Image d'ordonnance : Uploader une image
4. Cliquer sur "RÃ©server"
5. ProcÃ©der au paiement

âœ… RÃ©sultats attendus :
- Commande crÃ©Ã©e avec succÃ¨s
- Redirection vers le dashboard client
- Statut commande : "En attente"
- Statut document : "En attente de validation"
- Message de confirmation affichÃ©

===============================================
ğŸ“ SCÃ‰NARIO 2 : MÃŠME ORDONNANCE - COMMANDE ADDITIONNELLE
===============================================

ğŸ¯ Objectif : VÃ©rifier qu'on peut ajouter une commande Ã  une ordonnance en cours

ğŸ“ Ã‰tapes :
1. Retourner sur : http://127.0.0.1:8000/blood/reservation
2. Utiliser le MÃŠME numÃ©ro d'ordonnance :
   - NumÃ©ro d'ordonnance : ORD-TEST-001 (identique au scÃ©nario 1)
   - Groupe sanguin : B+ (diffÃ©rent)
   - QuantitÃ© : 1 poche
   - TÃ©lÃ©phone : 70123456
3. Cliquer sur "RÃ©server"
4. ProcÃ©der au paiement

âœ… RÃ©sultats attendus :
- DeuxiÃ¨me commande crÃ©Ã©e avec succÃ¨s
- Pas de message d'erreur
- Les deux commandes existent pour la mÃªme ordonnance
- Dashboard affiche les deux commandes
- SystÃ¨me reconnaÃ®t que l'ordonnance est "en cours"

===============================================
ğŸ“ SCÃ‰NARIO 3 : VALIDATION ADMINISTRATIVE
===============================================

ğŸ¯ Objectif : Tester la validation des documents par l'administrateur

ğŸ“ Ã‰tapes :
1. Se connecter en tant qu'administrateur
2. Aller sur le dashboard admin
3. Section "Commandes en attente"
4. Trouver les commandes avec ordonnance "ORD-TEST-001"
5. Cliquer sur "Valider" pour la premiÃ¨re commande :
   - Ajouter des notes : "Documents conformes - Validation test"
   - Confirmer la validation
6. RÃ©pÃ©ter pour la deuxiÃ¨me commande

âœ… RÃ©sultats attendus :
- Statut commande passe Ã  "ConfirmÃ©e"
- Statut document passe Ã  "ApprouvÃ©"
- Date de validation enregistrÃ©e
- Notes de validation sauvegardÃ©es
- Nom du validateur enregistrÃ©

===============================================
ğŸ“ SCÃ‰NARIO 4 : TERMINER LES COMMANDES
===============================================

ğŸ¯ Objectif : Marquer les commandes comme terminÃ©es

ğŸ“ Ã‰tapes :
1. Rester connectÃ© en tant qu'administrateur
2. Dans la liste des commandes confirmÃ©es
3. Marquer les deux commandes "ORD-TEST-001" comme "TerminÃ©es"
4. Ajouter des notes de finalisation

âœ… RÃ©sultats attendus :
- Statut commande passe Ã  "TerminÃ©e"
- Commandes n'apparaissent plus dans les tÃ¢ches en cours
- Historique des commandes mis Ã  jour

===============================================
ğŸ“ SCÃ‰NARIO 5 : ORDONNANCE TERMINÃ‰E - BLOCAGE
===============================================

ğŸ¯ Objectif : VÃ©rifier le blocage des nouvelles commandes sur ordonnance terminÃ©e

ğŸ“ Ã‰tapes :
1. Se reconnecter en tant que client
2. Aller sur : http://127.0.0.1:8000/blood/reservation
3. Essayer de crÃ©er une nouvelle commande :
   - NumÃ©ro d'ordonnance : ORD-TEST-001 (mÃªme que prÃ©cÃ©demment)
   - Groupe sanguin : O+
   - QuantitÃ© : 1 poche
4. Cliquer sur "RÃ©server"

âŒ RÃ©sultats attendus :
- Message d'erreur : "Ordonnance terminÃ©e, nouvelle ordonnance requise"
- Commande NON crÃ©Ã©e
- Redirection ou message explicatif
- Suggestion d'utiliser un nouveau numÃ©ro d'ordonnance

===============================================
ğŸ“ SCÃ‰NARIO 6 : NOUVELLE ORDONNANCE APRÃˆS TERMINAISON
===============================================

ğŸ¯ Objectif : VÃ©rifier qu'une nouvelle ordonnance fonctionne aprÃ¨s une terminÃ©e

ğŸ“ Ã‰tapes :
1. Rester sur la page de rÃ©servation
2. Utiliser un NOUVEAU numÃ©ro :
   - NumÃ©ro d'ordonnance : ORD-TEST-002
   - Groupe sanguin : AB+
   - QuantitÃ© : 1 poche
3. Cliquer sur "RÃ©server"

âœ… RÃ©sultats attendus :
- Nouvelle commande crÃ©Ã©e avec succÃ¨s
- SystÃ¨me traite comme nouvelle ordonnance
- Pas de conflit avec l'ancienne ordonnance

===============================================
ğŸ“ SCÃ‰NARIO 7 : REJET DE DOCUMENTS
===============================================

ğŸ¯ Objectif : Tester le rejet de documents par l'administrateur

ğŸ“ Ã‰tapes :
1. Se connecter en tant qu'administrateur
2. Trouver la commande "ORD-TEST-002"
3. Cliquer sur "Rejeter" :
   - Ajouter des notes : "Documents non conformes - QualitÃ© insuffisante"
   - Confirmer le rejet

âœ… RÃ©sultats attendus :
- Statut commande passe Ã  "AnnulÃ©e"
- Statut document passe Ã  "RejetÃ©"
- Notes de rejet enregistrÃ©es
- Client notifiÃ© du rejet

===============================================
ğŸ” POINTS DE VÃ‰RIFICATION TECHNIQUES
===============================================

ğŸ“Š Base de donnÃ©es :
- Table orders : VÃ©rifier les champs document_status, validated_by, validated_at
- Historique des modifications de statut
- IntÃ©gritÃ© des donnÃ©es de prescription_number

ğŸ“± Interface utilisateur :
- Messages d'erreur clairs et en franÃ§ais
- Transitions de statut visuelles
- Notifications appropriÃ©es
- Responsive design

ğŸ” SÃ©curitÃ© :
- Validation des permissions (client vs admin)
- VÃ©rification des donnÃ©es d'entrÃ©e
- Protection contre les actions non autorisÃ©es

===============================================
ğŸ¯ CRITÃˆRES DE SUCCÃˆS
===============================================

âœ… FonctionnalitÃ©s Sprint 4 validÃ©es si :
1. âœ… Ordonnances multiples gÃ©rÃ©es correctement
2. âœ… Statuts de documents fonctionnels
3. âœ… Blocage des ordonnances terminÃ©es
4. âœ… Validation/rejet administratif opÃ©rationnel
5. âœ… Interface utilisateur claire et intuitive
6. âœ… DonnÃ©es correctement persistÃ©es
7. âœ… Aucune rÃ©gression sur les fonctionnalitÃ©s existantes

===============================================
ğŸ“ CONTACTS POUR SUPPORT
===============================================

ğŸ› En cas de bug : VÃ©rifier les logs Laravel (storage/logs/)
ğŸ”§ Commande de debug : php artisan tinker
ğŸ“‹ Test automatique : php test_sprint4.php

===============================================
ğŸ“… Document crÃ©Ã© le : 07 AoÃ»t 2025
ğŸ·ï¸  Version : Sprint 4 - Gestion ordonnances multiples
ğŸ‘¤  Testeur : ___________________
ğŸ“  Notes additionnelles : ___________________
===============================================
